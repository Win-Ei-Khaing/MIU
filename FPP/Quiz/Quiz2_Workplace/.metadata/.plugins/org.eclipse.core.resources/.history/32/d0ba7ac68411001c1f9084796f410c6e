package edu.miu.cs.cs390fpp.mid.crm;

import java.text.DecimalFormat;
import java.time.LocalDate;
import java.util.StringJoiner;

import edu.miu.cs.cs390fpp.mid.crm.model.Customer;

public class CustomerDataMgmtApp {
	public static void main(String[] args) {
		Customer[] customerAry=new Customer[2];
		LocalDate dob1=LocalDate.of(1921,3,11);
		Customer cus1=new Customer(9123456780L,"Bob Jones", 11650.50, dob1);
		customerAry[0]=cus1;
		
		LocalDate dob2=LocalDate.of(1978,12,29);
		Customer cus2=new Customer(9123456789L,"Anna Smith", 40900.00, dob2);
		customerAry[1]=cus2;
		
		printCustomers(customerAry);
	}
	
	public static void printCustomers(Customer[] cusAry) {
		String displayText="";
		DecimalFormat df=new DecimalFormat("#,###.##");
		for(Customer cus : cusAry) {
			StringJoiner sj=new StringJoiner(",","[","]");
			sj.add("CustomerId: "+cus.getCustomerId());
			sj.add("Name: "+cus.getName());
			sj.add("Salary: $"+String.format("%.2f", df.format(cus.getSalary())));
			sj.add("DateofBirth: "+cus.getDateOfBirth());
			displayText+=sj.toString()+"\n";
		}
		System.out.println(displayText);
	}
}
